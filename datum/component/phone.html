<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/phone - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/phone.html#var">Var Details</a> - <a href="datum/component/phone.html#proc">Proc Details</a></header><main><h1>phone <aside>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L4"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 4"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/phone.html#var/call_log">call_log</a></th><td>Call log with text entries (like fax machines)</td></tr><tr><th><a href="datum/component/phone.html#var/call_state">call_state</a></th><td>Current call state using PHONE_STATE_* defines</td></tr><tr><th><a href="datum/component/phone.html#var/call_user">call_user</a></th><td>The user who is currently in a call with this phone (needed for notifications even if they drop handset)</td></tr><tr><th><a href="datum/component/phone.html#var/calling_phone">calling_phone</a></th><td>A phone we are calling or has called us</td></tr><tr><th><a href="datum/component/phone.html#var/current_handset_user">current_handset_user</a></th><td>Current user holding the handset (for proper signal cleanup)</td></tr><tr><th><a href="datum/component/phone.html#var/do_not_disturb">do_not_disturb</a></th><td>Whether or not the phone is receiving calls or not. Varies between on/off or forcibly on/off.</td></tr><tr><th><a href="datum/component/phone.html#var/enabled">enabled</a></th><td>Whether the phone is able to be called or not</td></tr><tr><th><a href="datum/component/phone.html#var/holder">holder</a></th><td>What actually holds our phone, defaults to parent but may be set differently</td></tr><tr><th><a href="datum/component/phone.html#var/last_caller">last_caller</a></th><td>The Phone_ID of the last person to call this telephone</td></tr><tr><th><a href="datum/component/phone.html#var/linked_pdas">linked_pdas</a></th><td>List of PDAs linked to this phone for call notifications</td></tr><tr><th><a href="datum/component/phone.html#var/networks_receive">networks_receive</a></th><td>Networks that this phone can take calls from</td></tr><tr><th><a href="datum/component/phone.html#var/networks_transmit">networks_transmit</a></th><td>Networks that this phone can call</td></tr><tr><th><a href="datum/component/phone.html#var/overlay_interactable">overlay_interactable</a></th><td>If the phone is activated by COMSIG_PHONE_BUTTON_USE or not. And if true Will only allow COMSIG_ATOM_BEFORE_HUMAN_ATTACK_HAND if receiving a call.</td></tr><tr><th><a href="datum/component/phone.html#var/phone_category">phone_category</a></th><td>Our phone category which sorts us into tabs in the phone menu TGUI</td></tr><tr><th><a href="datum/component/phone.html#var/phone_handset">phone_handset</a></th><td>Our connected handset</td></tr><tr><th><a href="datum/component/phone.html#var/phone_icon">phone_icon</a></th><td>Our phone icon that is displayed in the phone menu TGUI</td></tr><tr><th><a href="datum/component/phone.html#var/phone_id">phone_id</a></th><td>The id of our phone which shows up when we talk. Recommended to make unique. Do not include &quot;(#:&quot;.</td></tr><tr><th><a href="datum/component/phone.html#var/ringing_loop">ringing_loop</a></th><td>The looping ringing sound when the phone is called</td></tr><tr><th><a href="datum/component/phone.html#var/timeout_duration">timeout_duration</a></th><td>The time it takes for our timer to end to cancel an attempted call and &quot;go to voicemail&quot;</td></tr><tr><th><a href="datum/component/phone.html#var/timeout_timer_id">timeout_timer_id</a></th><td>The ID of our timer to cancel an attempted call and &quot;go to voicemail&quot;</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/phone.html#proc/add_call_log_entry">add_call_log_entry</a></th><td>Adds an entry to the call log with timestamp</td></tr><tr><th><a href="datum/component/phone.html#proc/answer_incoming_call">answer_incoming_call</a></th><td>Answers an incoming call</td></tr><tr><th><a href="datum/component/phone.html#proc/can_call_phone">can_call_phone</a></th><td>Checks if we can call a specific phone (network compatibility)</td></tr><tr><th><a href="datum/component/phone.html#proc/can_receive_calls">can_receive_calls</a></th><td>Checks if this phone can receive calls</td></tr><tr><th><a href="datum/component/phone.html#proc/can_use_phone_menu">can_use_phone_menu</a></th><td>Checks if the phone menu can be used</td></tr><tr><th><a href="datum/component/phone.html#proc/cleanup_phone_hardware">cleanup_phone_hardware</a></th><td>Cleans up phone hardware on destruction</td></tr><tr><th><a href="datum/component/phone.html#proc/cleanup_phone_networking">cleanup_phone_networking</a></th><td>Cleans up networking lists</td></tr><tr><th><a href="datum/component/phone.html#proc/cleanup_phone_timers">cleanup_phone_timers</a></th><td>Cleans up any active timers</td></tr><tr><th><a href="datum/component/phone.html#proc/find_phone_by_id">find_phone_by_id</a></th><td>Finds a phone by its ID (with fuzzy suffix matching)</td></tr><tr><th><a href="datum/component/phone.html#proc/generate_unique_phone_id">generate_unique_phone_id</a></th><td>Generates a unique phone ID to avoid conflicts</td></tr><tr><th><a href="datum/component/phone.html#proc/get_available_phones">get_available_phones</a></th><td>Gets all phones that we can call from our phone</td></tr><tr><th><a href="datum/component/phone.html#proc/get_phone_status_string">get_phone_status_string</a></th><td>Gets the status string for a phone for UI display</td></tr><tr><th><a href="datum/component/phone.html#proc/get_user">get_user</a></th><td>Returns the current user of the phone (mob holding handset)</td></tr><tr><th><a href="datum/component/phone.html#proc/handle_call_end">handle_call_end</a></th><td>Ends the current call</td></tr><tr><th><a href="datum/component/phone.html#proc/handle_speak">handle_speak</a></th><td>Handles speech from handset users</td></tr><tr><th><a href="datum/component/phone.html#proc/initiate_call">initiate_call</a></th><td>Initiates a call to another phone</td></tr><tr><th><a href="datum/component/phone.html#proc/link_pda">link_pda</a></th><td>Links a PDA program to this phone (replaces old link if exists)</td></tr><tr><th><a href="datum/component/phone.html#proc/notify_linked_pdas_ringing">notify_linked_pdas_ringing</a></th><td>Notifies all linked PDAs of an incoming call</td></tr><tr><th><a href="datum/component/phone.html#proc/on_call_answered">on_call_answered</a></th><td>Called when the other party answers our call</td></tr><tr><th><a href="datum/component/phone.html#proc/on_call_timeout">on_call_timeout</a></th><td>Called when a call times out</td></tr><tr><th><a href="datum/component/phone.html#proc/on_handset_deleted">on_handset_deleted</a></th><td>Handles when handset is deleted unexpectedly</td></tr><tr><th><a href="datum/component/phone.html#proc/on_handset_returned">on_handset_returned</a></th><td>Handles handset being returned via the simplified return system</td></tr><tr><th><a href="datum/component/phone.html#proc/on_handset_user_moved">on_handset_user_moved</a></th><td>Handles when handset user moves - check if they're out of range</td></tr><tr><th><a href="datum/component/phone.html#proc/on_holder_attackby">on_holder_attackby</a></th><td>Handles items being used on the phone holder</td></tr><tr><th><a href="datum/component/phone.html#proc/on_holder_clicked">on_holder_clicked</a></th><td>Handles clicking on the phone holder</td></tr><tr><th><a href="datum/component/phone.html#proc/on_holder_dropped">on_holder_dropped</a></th><td>Handles when holder is dropped (for portable phones)</td></tr><tr><th><a href="datum/component/phone.html#proc/on_holder_moved">on_holder_moved</a></th><td>Handles when holder is moved</td></tr><tr><th><a href="datum/component/phone.html#proc/on_holder_picked_up">on_holder_picked_up</a></th><td>Handles when holder is picked up (for portable phones)</td></tr><tr><th><a href="datum/component/phone.html#proc/on_user_moved">on_user_moved</a></th><td>Handles when user moves - update UI status</td></tr><tr><th><a href="datum/component/phone.html#proc/recall_handset">recall_handset</a></th><td>Recalls the handset to the holder (forced recall) - Legacy method</td></tr><tr><th><a href="datum/component/phone.html#proc/receive_incoming_call">receive_incoming_call</a></th><td>Handles receiving an incoming call</td></tr><tr><th><a href="datum/component/phone.html#proc/receive_message">receive_message</a></th><td>Receives a message from the connected phone</td></tr><tr><th><a href="datum/component/phone.html#proc/register_overlay_interaction">register_overlay_interaction</a></th><td>Registers overlay interaction for ringing phones</td></tr><tr><th><a href="datum/component/phone.html#proc/register_phone_signals">register_phone_signals</a></th><td>Registers all necessary signals for phone operation</td></tr><tr><th><a href="datum/component/phone.html#proc/send_call_end_message">send_call_end_message</a></th><td>Sends appropriate message when call ends</td></tr><tr><th><a href="datum/component/phone.html#proc/set_call_state">set_call_state</a></th><td>Sets the current call state and handles state transitions</td></tr><tr><th><a href="datum/component/phone.html#proc/setup_phone_hardware">setup_phone_hardware</a></th><td>Sets up phone hardware components (handset, audio)</td></tr><tr><th><a href="datum/component/phone.html#proc/setup_phone_networking">setup_phone_networking</a></th><td>Sets up networking capabilities</td></tr><tr><th><a href="datum/component/phone.html#proc/setup_phone_properties">setup_phone_properties</a></th><td>Sets up all phone properties from initialization arguments</td></tr><tr><th><a href="datum/component/phone.html#proc/start_call_timeout">start_call_timeout</a></th><td>Starts the call timeout timer</td></tr><tr><th><a href="datum/component/phone.html#proc/start_ringing">start_ringing</a></th><td>Starts ringing sound and effects</td></tr><tr><th><a href="datum/component/phone.html#proc/stop_ringing">stop_ringing</a></th><td>Stops ringing sound and effects</td></tr><tr><th><a href="datum/component/phone.html#proc/toggle_dnd">toggle_dnd</a></th><td>Toggles do not disturb mode</td></tr><tr><th><a href="datum/component/phone.html#proc/unlink_all_pdas">unlink_all_pdas</a></th><td>Unlinks all PDAs from this phone</td></tr><tr><th><a href="datum/component/phone.html#proc/unlink_pda">unlink_pda</a></th><td>Unlinks a specific PDA program from this phone</td></tr><tr><th><a href="datum/component/phone.html#proc/unregister_overlay_interaction">unregister_overlay_interaction</a></th><td>Unregisters overlay interaction</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/call_log"><aside class="declaration">var </aside>call_log <aside>– /list</aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L45"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 45"></a></h3><p>Call log with text entries (like fax machines)</p><h3 id="var/call_state"><aside class="declaration">var </aside>call_state <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L20"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 20"></a></h3><p>Current call state using PHONE_STATE_* defines</p><h3 id="var/call_user"><aside class="declaration">var </aside>call_user <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L26"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 26"></a></h3><p>The user who is currently in a call with this phone (needed for notifications even if they drop handset)</p><h3 id="var/calling_phone"><aside class="declaration">var </aside>calling_phone <aside>– /<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L22"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 22"></a></h3><p>A phone we are calling or has called us</p><h3 id="var/current_handset_user"><aside class="declaration">var </aside>current_handset_user <aside>– /<a href="mob.html">mob</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L47"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 47"></a></h3><p>Current user holding the handset (for proper signal cleanup)</p><h3 id="var/do_not_disturb"><aside class="declaration">var </aside>do_not_disturb <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L33"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 33"></a></h3><p>Whether or not the phone is receiving calls or not. Varies between on/off or forcibly on/off.</p><h3 id="var/enabled"><aside class="declaration">var </aside>enabled <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L35"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 35"></a></h3><p>Whether the phone is able to be called or not</p><h3 id="var/holder"><aside class="declaration">var </aside>holder <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L12"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 12"></a></h3><p>What actually holds our phone, defaults to parent but may be set differently</p><h3 id="var/last_caller"><aside class="declaration">var </aside>last_caller <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L24"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 24"></a></h3><p>The Phone_ID of the last person to call this telephone</p><h3 id="var/linked_pdas"><aside class="declaration">var </aside>linked_pdas <aside>– /list</aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L50"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 50"></a></h3><p>List of PDAs linked to this phone for call notifications</p><h3 id="var/networks_receive"><aside class="declaration">var </aside>networks_receive <aside>– /list</aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L40"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 40"></a></h3><p>Networks that this phone can take calls from</p><h3 id="var/networks_transmit"><aside class="declaration">var </aside>networks_transmit <aside>– /list</aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L42"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 42"></a></h3><p>Networks that this phone can call</p><h3 id="var/overlay_interactable"><aside class="declaration">var </aside>overlay_interactable <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L37"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 37"></a></h3><p>If the phone is activated by COMSIG_PHONE_BUTTON_USE or not. And if true Will only allow COMSIG_ATOM_BEFORE_HUMAN_ATTACK_HAND if receiving a call.</p><h3 id="var/phone_category"><aside class="declaration">var </aside>phone_category <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L6"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 6"></a></h3><p>Our phone category which sorts us into tabs in the phone menu TGUI</p><h3 id="var/phone_handset"><aside class="declaration">var </aside>phone_handset <aside>– /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/<a href="obj/item/handset.html">handset</a></aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L15"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 15"></a></h3><p>Our connected handset</p><h3 id="var/phone_icon"><aside class="declaration">var </aside>phone_icon <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L10"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 10"></a></h3><p>Our phone icon that is displayed in the phone menu TGUI</p><h3 id="var/phone_id"><aside class="declaration">var </aside>phone_id <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L8"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 8"></a></h3><p>The id of our phone which shows up when we talk. Recommended to make unique. Do not include &quot;(#:&quot;.</p><h3 id="var/ringing_loop"><aside class="declaration">var </aside>ringing_loop <aside>– /<a href="datum.html">datum</a>/<a href="datum/looping_sound.html">looping_sound</a>/phone_ringing</aside> <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L17"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 17"></a></h3><p>The looping ringing sound when the phone is called</p><h3 id="var/timeout_duration"><aside class="declaration">var </aside>timeout_duration <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L30"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 30"></a></h3><p>The time it takes for our timer to end to cancel an attempted call and &quot;go to voicemail&quot;</p><h3 id="var/timeout_timer_id"><aside class="declaration">var </aside>timeout_timer_id <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L28"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 28"></a></h3><p>The ID of our timer to cancel an attempted call and &quot;go to voicemail&quot;</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_call_log_entry"><aside class="declaration">proc </aside>add_call_log_entry<aside>(entry_text)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L348"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 348"></a></aside></h3><p>Adds an entry to the call log with timestamp</p><h3 id="proc/answer_incoming_call"><aside class="declaration">proc </aside>answer_incoming_call<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L418"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 418"></a></aside></h3><p>Answers an incoming call</p><h3 id="proc/can_call_phone"><aside class="declaration">proc </aside>can_call_phone<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a>/target_phone)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L601"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 601"></a></aside></h3><p>Checks if we can call a specific phone (network compatibility)</p><h3 id="proc/can_receive_calls"><aside class="declaration">proc </aside>can_receive_calls<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L611"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 611"></a></aside></h3><p>Checks if this phone can receive calls</p><h3 id="proc/can_use_phone_menu"><aside class="declaration">proc </aside>can_use_phone_menu<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L623"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 623"></a></aside></h3><p>Checks if the phone menu can be used</p><h3 id="proc/cleanup_phone_hardware"><aside class="declaration">proc </aside>cleanup_phone_hardware<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L146"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 146"></a></aside></h3><p>Cleans up phone hardware on destruction</p><h3 id="proc/cleanup_phone_networking"><aside class="declaration">proc </aside>cleanup_phone_networking<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L157"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 157"></a></aside></h3><p>Cleans up networking lists</p><h3 id="proc/cleanup_phone_timers"><aside class="declaration">proc </aside>cleanup_phone_timers<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L162"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 162"></a></aside></h3><p>Cleans up any active timers</p><h3 id="proc/find_phone_by_id"><aside class="declaration">proc </aside>find_phone_by_id<aside>(phone_id)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L555"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 555"></a></aside></h3><p>Finds a phone by its ID (with fuzzy suffix matching)</p><h3 id="proc/generate_unique_phone_id"><aside class="declaration">proc </aside>generate_unique_phone_id<aside>(desired_id)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L633"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 633"></a></aside></h3><p>Generates a unique phone ID to avoid conflicts</p><h3 id="proc/get_available_phones"><aside class="declaration">proc </aside>get_available_phones<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L574"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 574"></a></aside></h3><p>Gets all phones that we can call from our phone</p><h3 id="proc/get_phone_status_string"><aside class="declaration">proc </aside>get_phone_status_string<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a>/other_phone)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L785"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 785"></a></aside></h3><p>Gets the status string for a phone for UI display</p><h3 id="proc/get_user"><aside class="declaration">proc </aside>get_user<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L703"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 703"></a></aside></h3><p>Returns the current user of the phone (mob holding handset)</p><h3 id="proc/handle_call_end"><aside class="declaration">proc </aside>handle_call_end<aside>(timeout, recursed)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L456"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 456"></a></aside></h3><p>Ends the current call</p><h3 id="proc/handle_speak"><aside class="declaration">proc </aside>handle_speak<aside>(message, /<a href="datum.html">datum</a>/<a href="datum/language.html">language</a>/message_language, /<a href="mob.html">mob</a>/speaker, /list/spans, /list/message_mods, direct_talking)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L671"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 671"></a></aside></h3><p>Handles speech from handset users</p><h3 id="proc/initiate_call"><aside class="declaration">proc </aside>initiate_call<aside>(/<a href="mob.html">mob</a>/user, target_phone_id)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L359"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 359"></a></aside></h3><p>Initiates a call to another phone</p><h3 id="proc/link_pda"><aside class="declaration">proc </aside>link_pda<aside>(/<a href="datum.html">datum</a>/<a href="datum/computer_file.html">computer_file</a>/<a href="datum/computer_file/program.html">program</a>/<a href="datum/computer_file/program/phone_monitor.html">phone_monitor</a>/pda_program)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L227"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 227"></a></aside></h3><p>Links a PDA program to this phone (replaces old link if exists)</p><h3 id="proc/notify_linked_pdas_ringing"><aside class="declaration">proc </aside>notify_linked_pdas_ringing<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L221"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 221"></a></aside></h3><p>Notifies all linked PDAs of an incoming call</p><h3 id="proc/on_call_answered"><aside class="declaration">proc </aside>on_call_answered<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L444"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 444"></a></aside></h3><p>Called when the other party answers our call</p><h3 id="proc/on_call_timeout"><aside class="declaration">proc </aside>on_call_timeout<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L205"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 205"></a></aside></h3><p>Called when a call times out</p><h3 id="proc/on_handset_deleted"><aside class="declaration">proc </aside>on_handset_deleted<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L260"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 260"></a></aside></h3><p>Handles when handset is deleted unexpectedly</p><h3 id="proc/on_handset_returned"><aside class="declaration">proc </aside>on_handset_returned<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L536"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 536"></a></aside></h3><p>Handles handset being returned via the simplified return system</p><h3 id="proc/on_handset_user_moved"><aside class="declaration">proc </aside>on_handset_user_moved<aside>(/<a href="mob.html">mob</a>/user, /<a href="atom.html">atom</a>/old_loc, movement_dir)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L329"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 329"></a></aside></h3><p>Handles when handset user moves - check if they're out of range</p><h3 id="proc/on_holder_attackby"><aside class="declaration">proc </aside>on_holder_attackby<aside>(/<a href="atom.html">atom</a>/phone, /<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/attacking_item, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L265"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 265"></a></aside></h3><p>Handles items being used on the phone holder</p><h3 id="proc/on_holder_clicked"><aside class="declaration">proc </aside>on_holder_clicked<aside>(/<a href="atom.html">atom</a>/phone, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/user, click_parameters)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L271"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 271"></a></aside></h3><p>Handles clicking on the phone holder</p><h3 id="proc/on_holder_dropped"><aside class="declaration">proc </aside>on_holder_dropped<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/dropped_holder, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L312"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 312"></a></aside></h3><p>Handles when holder is dropped (for portable phones)</p><h3 id="proc/on_holder_moved"><aside class="declaration">proc </aside>on_holder_moved<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/moving_atom, /<a href="atom.html">atom</a>/destination)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L318"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 318"></a></aside></h3><p>Handles when holder is moved</p><h3 id="proc/on_holder_picked_up"><aside class="declaration">proc </aside>on_holder_picked_up<aside>(/<a href="obj.html">obj</a>/<a href="obj/item.html">item</a>/picked_up_holder, /<a href="mob.html">mob</a>/user)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L302"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 302"></a></aside></h3><p>Handles when holder is picked up (for portable phones)</p><h3 id="proc/on_user_moved"><aside class="declaration">proc </aside>on_user_moved<aside>(/<a href="mob.html">mob</a>/user, /<a href="atom.html">atom</a>/old_loc, movement_dir)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L323"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 323"></a></aside></h3><p>Handles when user moves - update UI status</p><h3 id="proc/recall_handset"><aside class="declaration">proc </aside>recall_handset<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L518"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 518"></a></aside></h3><p>Recalls the handset to the holder (forced recall) - Legacy method</p><h3 id="proc/receive_incoming_call"><aside class="declaration">proc </aside>receive_incoming_call<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a>/incoming_phone)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L398"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 398"></a></aside></h3><p>Handles receiving an incoming call</p><h3 id="proc/receive_message"><aside class="declaration">proc </aside>receive_message<aside>(message, /<a href="datum.html">datum</a>/<a href="datum/language.html">language</a>/message_language, /<a href="mob.html">mob</a>/speaker, /list/spans, /list/message_mods, direct_talking)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L690"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 690"></a></aside></h3><p>Receives a message from the connected phone</p><h3 id="proc/register_overlay_interaction"><aside class="declaration">proc </aside>register_overlay_interaction<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L250"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 250"></a></aside></h3><p>Registers overlay interaction for ringing phones</p><h3 id="proc/register_phone_signals"><aside class="declaration">proc </aside>register_phone_signals<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L132"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 132"></a></aside></h3><p>Registers all necessary signals for phone operation</p><h3 id="proc/send_call_end_message"><aside class="declaration">proc </aside>send_call_end_message<aside>(/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/phone.html">phone</a>/other_phone, old_state, timeout, recursed)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L491"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 491"></a></aside></h3><p>Sends appropriate message when call ends</p><h3 id="proc/set_call_state"><aside class="declaration">proc </aside>set_call_state<aside>(new_state)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L168"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 168"></a></aside></h3><p>Sets the current call state and handles state transitions</p><h3 id="proc/setup_phone_hardware"><aside class="declaration">proc </aside>setup_phone_hardware<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L96"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 96"></a></aside></h3><p>Sets up phone hardware components (handset, audio)</p><h3 id="proc/setup_phone_networking"><aside class="declaration">proc </aside>setup_phone_networking<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L116"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 116"></a></aside></h3><p>Sets up networking capabilities</p><h3 id="proc/setup_phone_properties"><aside class="declaration">proc </aside>setup_phone_properties<aside>(phone_category, phone_id, phone_icon, do_not_disturb, /list/networks_receive, /list/networks_transmit, holder, overlay_interactable)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L81"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 81"></a></aside></h3><p>Sets up all phone properties from initialization arguments</p><h3 id="proc/start_call_timeout"><aside class="declaration">proc </aside>start_call_timeout<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L200"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 200"></a></aside></h3><p>Starts the call timeout timer</p><h3 id="proc/start_ringing"><aside class="declaration">proc </aside>start_ringing<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L210"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 210"></a></aside></h3><p>Starts ringing sound and effects</p><h3 id="proc/stop_ringing"><aside class="declaration">proc </aside>stop_ringing<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L216"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 216"></a></aside></h3><p>Stops ringing sound and effects</p><h3 id="proc/toggle_dnd"><aside class="declaration">proc </aside>toggle_dnd<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L656"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 656"></a></aside></h3><p>Toggles do not disturb mode</p><h3 id="proc/unlink_all_pdas"><aside class="declaration">proc </aside>unlink_all_pdas<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L243"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 243"></a></aside></h3><p>Unlinks all PDAs from this phone</p><h3 id="proc/unlink_pda"><aside class="declaration">proc </aside>unlink_pda<aside>(/<a href="datum.html">datum</a>/<a href="datum/computer_file.html">computer_file</a>/<a href="datum/computer_file/program.html">program</a>/<a href="datum/computer_file/program/phone_monitor.html">phone_monitor</a>/pda_program)  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L235"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 235"></a></aside></h3><p>Unlinks a specific PDA program from this phone</p><h3 id="proc/unregister_overlay_interaction"><aside class="declaration">proc </aside>unregister_overlay_interaction<aside>()  <a href="https://github.com/IrisSS13/IrisStation/blob/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44/modular_iris/modules/phone/code/phone.dm#L255"><img src="git.png" width="16" height="16" title="modular_iris/modules/phone/code/phone.dm 255"></a></aside></h3><p>Unregisters overlay interaction</p></main><footer>tgstation.dme <a href="https://github.com/IrisSS13/IrisStation/tree/c5b2078960b834076f0cfdf3ef1a84cc4d01aa44">c5b2078</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>